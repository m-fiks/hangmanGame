<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/style.css">
    <title>Hangman</title>
    <script type="text/javascript" src="./script.js"></script>
</head>
<body>
    <header>
        <h1>Basic Star Wars Hangman!</h1>
        <p>Guess the character name below ... May the Force be with you</p>
    </header>
<br><br>
<p id="target"></p>
<br>
<div class="guessing">
<p id="letters-guessed">Letters Already Guessed: </p>
<p id="letters-guessed2"></p>
</div>
<div class="lives">
    <p id="lives-2">Guesses Left: </p>
    <p id="lives-3"></p>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script>
$(document).ready(function() {

'use strict';
//variables
const characters = ['leia', 'luke', 'han', 'chewy'];
let correctArray = [];
let wrongArray= [];
let uniqueCorrect=[];
let uniqueWrong=[];
let underScore= [];
let underScoreCounter= 0;
//const alphabet = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"]

//counters
let rightGuessCounter=0;
let guessesRemaining= 10;



//will pick random word from characters array
let chosenOne = characters[Math.floor(Math.random() * characters.length)];
//console.log(chosenOne);


//create underscores to correspond to chosen random word
//=> ES6 (skip typing function and return)
//() meaning no parameters
let underScoreCreator = () => {
    for (let i = 0; i < chosenOne.length; i++){
        underScore.push('_');
        underScoreCounter=(chosenOne.length);
        }
    return underScore;
}

//innerHTML business
//display '_' for selected word
document.querySelector('#target').innerHTML=(underScoreCreator().join(' '));
document.querySelector('#lives-3').innerHTML=(guessesRemaining);

//get keyboard input(guess from player)
document.addEventListener("keypress", (event) => {
    //get numerical code from key pressed (a-z : 65-90)
    let keyNumbs = event.keyCode;
    //console.log(keyNumbs);
    let keyLetter = String.fromCharCode(keyNumbs);
    console.log(keyLetter);
    //compare to chosenOne
    //if user guesses a correct letter push to correctArray - if wrong push to wrongArray
    if(chosenOne.indexOf(keyLetter) > -1) {

    correctArray.push(keyLetter);
    //only allow for one instance of a letter
    let uniqueCorrect = correctArray.filter(function(item, i, ar){ return ar.indexOf(item) === i; });
    document.querySelector('#target').innerHTML=(uniqueCorrect.join(''));
    // rightGuessCounter++;
    //console.log(correctArray)
    //console.log(rightGuessCounter);
    //put letter in place of underscore
    underScore[chosenOne.indexOf(keyLetter)] = keyLetter;
    //console.log(underScore.join(''));

    } else  {
    wrongArray.push(keyLetter);
    let uniqueWrong = wrongArray.filter(function(item, i, ar){ return ar.indexOf(item) === i; });
    document.querySelector("#letters-guessed2").innerHTML =(uniqueWrong);
    }
});


});


// //prevent from double guessing letters
// let noDoubles = () => {
//     for (let i = 0; i < chosenOne.length; i++){
//         if(correctArray.indexOf(keyLetter) > -1){
//             keysPressedAlready.push(keyLetter);
//         }
//     }
//     return keysPressedAlready;
// }

// });

//winning
// if(rightGuessCounter === underScoreCounter){
//     alert('you win');
// }

// console.log(noDoubles())




 //let player know they have won when all letters guessed
//  if(correctArrayAlreadyGuessed.length == chosenOne.length){
//             alert('good job!');
//         }
// function getInput(event){
//     let g = event.key;
//     console.log(g);
//     if (chosenOne.includes(g)){
//     let upd = answerArray.toString();
//     let updatedArray = upd.replace('_', g);
//     document.getElementById('target').innerHTML= updatedArray[i] + answerArray.join(" ");
//     //replace _ with g
//     //console.log('hi');
//     } else{
//     //reduce guesses by one
//     //add g to letters already guessed
//     console.log('no');
//     } 
// }

// let playerGuess = prompt('Guess a single letter');
 //game loop -- code game, show progress, ask for input, udpate answerArray and remainingLetters
//         while (remainingLetters > 0){
//         //prompt(answerArray.join(" "));
//         return playerGuess;
// }

// document.querySelector('#target').innerHTML=playerGuess;
//         let playerGuess = prompt('Guess a single letter');

//         //if player quits game
//         if (guess === undefined){
//             break;

//         } else if (guess.length !== 1){
//             alert('Please only enter a single letter');
//         //updates game state
//         }else {
//             for ( let j = 0; j < random.length; j++){
//                 if (random[j] === playerGuess){
//                     answerArray[j] = playerGuess;
//                     remainingLetters--;
//                 }
//             }
//         }

//     }
// }

</script>

</body>
</html>